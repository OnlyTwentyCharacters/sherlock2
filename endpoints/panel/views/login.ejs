<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Panel</title>
    <link href="/static/styles/panel.css" rel="stylesheet">
    <style>.error { display: none; }</style>
    <script src="/static/scripts/jquery/3.1.1.js"></script>
    <script>
        $(() => {
            $("#form").on("submit", event => {
                event.preventDefault();
                const user = $("#username").val();
                const pass = $("#password").val();

                $.post("/api/login", { username: user, password: pass }, data => {
                    if (data.ok) {
                        window.location.replace("/panel/system");
                    } else {
                        $(".error").show();
                        $("#errmsg").text(data.error);
                        return false;
                    }
                });

                return false;
            });
        });
    </script>
</head>
<body>

    <div class="login">
        <div class="box">
            <div class="title">
                <span>Login</span>
            </div>

            <div class="error">
                <span id="errmsg"></span>
            </div>

            <div class="inputs">
                <form target="" id="form">
                    <input id="username" type="text" placeholder="Username" name="username" required autocomplete="off">
                    <input id="password" type="password" placeholder="Password" name="password" required autocomplete="off">
                    <input type="submit">
                </form>
            </div>
        </div>
    </div>

</body>
</html>
